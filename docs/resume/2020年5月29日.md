## 记一次面试 （2020年5月29日）

### git 冲突

1. 更新远程仓库代码，发生冲突
2. 在 IDE 对比本地文件和远程仓库文件
3. 解决冲突，标记 `reslove`
4. 提交代码


### 管理后台路由权限实现(基于vue技术栈)

1. 使用 `router.beforeEach` 注册一个全局前置守卫
2. 在前置守卫中，调用对应接口
    - 用户信息（角色的唯一识别码）
    - 异步路由表
    - 通过递归查找对应用户角色的唯一识别码，来生成前端路由
    - 生成的前端路由作为参数传入 `VueRouter` 的实例方法 `addRoutes` 上，实现动态添加路由
    - 通过 `next()` 来释放钩子，确保所有的路由都已经挂在完成
3. 在 `main.js` 中引入使用
 
### 管理后台按钮权限实现(基于vue技术栈)

1. 创建菜单的时候，对菜单添加可操作权限，如：增删改查
2. 封装自定义指令权限 `v-action`
    - 获取 `store` 里面的可操作权限，`permissions`
    - 根据当前 `vnode` 的上下文所配置的路由信息 `$route.name` 字段，`permissionId`
    - 通过两者比对，来判断当前用户下该菜单的按钮是否有可操作权限，没有则隐藏按钮
3. 用法 `<el-button type="primary" icon="el-icon-plus" v-action:add>新增</el-button>`

### 微信小程序的一些坑

待完善...